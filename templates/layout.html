<!DOCTYPE html>
<html>
	<head>
		<!-- Required Meta Tags -->
		<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    	<!-- Google site verification -->
    	<meta name="google-site-verification" content="4vOmvaSE-x8mkBRHpsRbzPpDD2kmRRmwc5ARy83Q39M" />

    	<meta name="description" content="See coronavirus (COVID-19) latest updates and statistics from different countries all over world.">

    	<!-- Bootstrap 4 -->
    	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

		<title>COVID-19 UPDATES</title>

		<!-- Site icon -->
		<link rel="icon" href="{{ url_for('static', filename='images/icon.png') }}">

		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/sortable-table.css') }}">

		<!-- Own CSS -->
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}">

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165989811-1"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-165989811-1');
		</script>

		<!-- Sortable Table script -->
		<script type="text/javascript" src="{{ url_for('static', filename='js/sortable-tables.js') }}"></script>

		<!-- Sripts needed for bootstrap -->
  		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	</head>

	<body>
		<!-- navbar -->
		<nav class="navbar navbar-expand-sm navbar-light">
			<!-- navbar brand -->
			<div class="navbar-brand">
				<span class="text-danger oswald">COVID-19 UPDATES </span><small class="text-muted oswald fw-200 ltr-space">all over the world</small>
			</div>

			<!-- Toggler/collapsibe Button -->
			<button class="navbar-toggler bg-border-none" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
					<i class="material-icons text-danger f-size-30">menu</i>
			</button>

			<!-- navbar items -->
			<div class="collapse navbar-collapse mt-3" id="collapsibleNavbar">
				<ul class="navbar-nav ml-auto text-center">
					{% if table %}
					<li class="nav-item">
			    		<a class="mb-0 oswald fw-200  mr-3" href="{{ url_for('main') }}">
			    			<i class="material-icons text-danger">chevron_left</i>
			    		</a>
			    	</li>
			    	{% else %}
			    	<li class="nav-item">
			    		<a class="mb-0 oswald fw-200 text-danger mr-3" href="{{ url_for('table') }}">
			    			<i class="material-icons">web</i>
			    		</a>
			    	</li>
			    	{% endif %}

			    	<li class="nav-item">
			    		<a type="button" class="mr-3">
			    			<i class="material-icons dark-mode">brightness_7</i>
			    		</a>
			    	</li>
			    	<li class="nav-item">
			    		<p class="m-0">{{ date }}</p>
			    	</li>
				</ul>
			</div>
		</nav>

		<!-- Content -->
		{% block content %}
		{% endblock content %}

		<!-- Particle JS -->
		<script src="{{ url_for('static', filename='js/particles.js') }}"></script>
		<script src="{{ url_for('static', filename='js/app.js') }}"></script>

		<script type="text/javascript">
			let darkMode = localStorage.getItem("darkMode");
		
			const darkModeButton = document.querySelector(".dark-mode");
			const navbar = document.querySelector("nav");
			const body = document.querySelector("body");
			const particles = document.querySelector("#particles-js");
			const cards = document.querySelectorAll(".card");

			const enableDarkMode = () => {
				darkModeButton.style.color = "white";
				navbar.style.background = "#171717";
				body.style.background = "#171717";
				body.style.color = "white";
				particles.style.background = "#171717";

				for(var x = 0 ; x < cards.length ; x++) {
					cards[x].classList.add("bg-dark");
				}


				localStorage.setItem("darkMode", "enabled");
			}

			const disabledDarkMode = () => {
				darkModeButton.style.color = "#292b2c";
				navbar.style.background = "white";
				body.style.background = "white";
				body.style.color = "#292b2c";
				particles.style.background = "white";
		
				for(var x = 0 ; x < cards.length ; x++) {
					cards[x].classList.remove("bg-dark");
				}

				localStorage.setItem("darkMode", null);
			}

			if (darkMode === "enabled") {
				enableDarkMode();
			}

			darkModeButton.addEventListener("click", function(e) {
				darkMode = localStorage.getItem("darkMode");
				if (darkMode !== "enabled") {
					enableDarkMode();
				}
				else {
					disabledDarkMode()
				}
			});

		</script>

	</body>

	<!-- Creator -->
	<footer style="margin-top: 120px">
		<div class="text-center"><small class="text-muted">Made by Odeajo Israel | <a href="https://www.linkedin.com/in/odeajo-israel/">Connect</a></small></div>
	</footer>

	<!-- Heroku API: https://coronavirus-19-api.herokuapp.com/countries -->
</html>